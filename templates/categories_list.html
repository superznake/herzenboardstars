{% extends "base.html" %}

{% block content %}
<div class="container mt-5">

    <h2 class="mb-4">Категории</h2>

    <!-- ОСНОВНЫЕ КАТЕГОРИИ -->
    <h3 class="mt-4">Основные номинации</h3>
    <div class="row">
        {% for category in main_categories %}
            <div class="col-md-6 mb-4">
                <div class="card p-3 shadow-sm h-100 d-flex flex-column">
                    <h4>{{ category.name }}</h4>

                    {% if category.description %}
                        <p class="text-muted">{{ category.description }}</p>
                    {% endif %}

                    {% if current_stage == 'suggest_nominee' %}
                        <a href="{% url 'suggest_nominee' category.id %}" class="btn btn-primary mt-auto">
                            Предложить номинанта
                        </a>
                    {% elif current_stage == 'voting' %}
                        <a href="{% url 'vote' category.id %}" class="btn btn-primary mt-auto">
                            Голосовать
                        </a>
                    {% endif %}
                </div>
            </div>
        {% empty %}
            <p class="text-muted">Основных категорий нет.</p>
        {% endfor %}
    </div>

    <!-- ДОПОЛНИТЕЛЬНЫЕ КАТЕГОРИИ -->
    <h3 class="mt-5">Дополнительные номинации</h3>
    <div class="row">
        {% for category in extra_categories %}
            <div class="col-md-6 mb-4">
                <div class="card p-3 shadow-sm h-100 d-flex flex-column">

                    <h4>{{ category.name }}</h4>

                    {% if category.description %}
                        <p class="text-muted">{{ category.description }}</p>
                    {% endif %}

                    {% if current_stage == 'suggest_nominee' %}
                        <a href="{% url 'suggest_nominee' category.id %}" class="btn btn-primary mt-auto">
                            Предложить номинанта
                        </a>
                    {% elif current_stage == 'voting' %}
                        <a href="{% url 'vote' category.id %}" class="btn btn-primary mt-auto">
                            Голосовать
                        </a>
                    {% endif %}

                </div>
            </div>
        {% empty %}
            <p class="text-muted">Дополнительных категорий нет.</p>
        {% endfor %}
    </div>

</div>
{% endblock %}
